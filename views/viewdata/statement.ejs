<% layout("layouts/boilerplate") %>
<title>Statement</title>
<link rel="stylesheet" href="/style/viewdata/statement.css">
<div class="p-2 d-flex flex-wrap" id="topmenu">
    <h3 class="m-0 align-self-center d-inline text-center">Financial statement as of <span id="dateSpan"><%=date.slice(-2)+'/'+date.slice(5,7)+'/'+date.slice(0,4)%></span></h3>
    <button class="btn order-2 order-md-1" id="toggler">Show options</button>
    <form action="/statement" class="d-none pt-2 order-1 order-md-2 w-100">
        <label for="date" class="align-self-center">Select a date:</label>
        <input type="date" id="date" name="date" value="<%=date%>" class="mx-2">
        <button class="btn m-0" type="button" id="updateButton">Enter</button>
    </form>
</div>
<div id="content-div" class="p-2">
    <div class="title"><h4>Balance sheet</h4></div>
    <%let counter=0;%>
    <div id="assets">
        <table>
        </table>
    </div>
    <div id="liabilities">
        <table>
        </table>
    </div>
    <div class="title"><h4 class="py-2 my-0">Profit and loss</h4></div>
    <div id="pl">
        <table>
        </table>
    </div>
</div>

<script>
    let ChartOfAccounts = <%-JSON.stringify(ChartOfAccounts)%>;
    let date = <%-JSON.stringify(date)%>;
</script>

<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="/js/viewdata/statement.js"></script>